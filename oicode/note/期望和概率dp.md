# 概率期望dp与状压dp   

---   

<!--more-->

## 期望dp

> $P(A)$ A -> 发生的概率   
$E(a)$ -> 发生这件事的期望   
$P(A) = \frac{1}{E(A)}$   
发生这件事的期望是概率的倒数   
通俗来说，就是买N次能够买到（非洲人除外

k: k + 1
k种物品的期望次数是$\frac{n-k}{n}$    
买第一个的概率是1，期望是$\frac{1}{1}$      
买第二个的概率是$\frac{2}{3}$，期望是$\frac{3}{2}$
所以总期望是$\sum_{i=1}^n{(\frac{n}{i})}$   

买了k个，k + 1
f[k]已经有了k种，还需要购买的次数
$f[k] = f[k + 1] + \frac{n}{n-k}$
$g[k]$集齐了k种，到了n种需要花费的钱
$g[k] = \frac{n-k}{n}(g[k + 1] + f[k + 1])+\frac{k}{n}(g[k]+f[k]) + 1$
$g[k] = g[k + 1] + f[k + 1]\times\frac{k}{n-k}\times f[k]+\frac{n}{n-k}$

## 状压dp
